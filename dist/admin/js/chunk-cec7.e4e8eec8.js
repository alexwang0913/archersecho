(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cec7"],{6282:function(e,t,l){},"90e7":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=this,l=t.$createElement,i=t._self._c||l;return i("div",[i("v-container",{attrs:{fluid:"","pt-0":"","grid-list-xl":""}},[i("section-tooltip",{attrs:{title:"Rule",tooltip:"Rule management"}}),i("v-btn",{staticClass:"text-capitalize",attrs:{color:"primary"},on:{click:function(){e.dialog=!0,e.dialogMode=1,e.rule={}}}},[i("v-icon",[t._v("add")]),t._v("Add new rule\n    ")],1),i("v-dialog",{attrs:{persistent:"",width:"700"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v(t._s(1===t.dialogMode?"Add new rule":"Edit rule"))]),i("v-card-text",[i("v-form",[t.errors.length?i("v-layout",{attrs:{column:""}},[i("b",{staticClass:"red--text"},[t._v("Please correct the following error(s):")]),i("ul",t._l(t.errors,function(e){return i("li",[t._v(t._s(e))])}))]):t._e(),i("v-container",[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{attrs:{label:"Rule name"},model:{value:t.rule.name,callback:function(e){t.$set(t.rule,"name",e)},expression:"rule.name"}})],1)],1)],1)],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{flat:""},on:{click:function(){e.dialog=!1}}},[t._v("Close")]),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.save}},[t._v("Save")])],1)],1)],1),i("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],attrs:{column:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-data-table",{staticClass:"table elevation-1",class:{mobile:t.isMobile},attrs:{headers:t.headers,items:t.rules,"hide-headers":t.isMobile},scopedSlots:t._u([{key:"items",fn:function(e){return[t.isMobile?i("tr",[i("td",[i("ul",{staticClass:"flex-content"},[i("li",{staticClass:"flex-item",attrs:{"data-label":"Rule Name"}},[t._v(t._s(e.item.name))]),i("li",{staticClass:"flex-item",attrs:{"data-label":"Created At"}},[t._v(t._s(e.item.createdAt.replace("T","").split(".")[0]))]),i("li",{staticClass:"flex-item"},[i("v-icon",{staticClass:"mr-2",attrs:{color:"primary",small:""},on:{click:function(l){t.editRule(e.item)}}},[t._v("edit")]),i("v-icon",{attrs:{color:"error",small:""},on:{click:function(l){t.deleteRule(e.item._id)}}},[t._v("delete")])],1)])])]):i("tr",[i("td",[t._v(t._s(e.item.name))]),i("td",[t._v(t._s(e.item.createdAt.replace("T"," ").split(".")[0]))]),i("td",[i("v-icon",{staticClass:"mr-2",attrs:{color:"primary",small:""},on:{click:function(l){t.editRule(e.item)}}},[t._v("edit")]),i("v-icon",{attrs:{color:"error",small:""},on:{click:function(l){t.deleteRule(e.item._id)}}},[t._v("delete")])],1)])]}}])})],1)],1)],1)],1)},s=[],a=(l("7f7f"),l("cadf"),l("551c"),l("097d"),l("0f66")),r={data:function(){return{dialog:!1,rule:{},headers:[{text:"Rule Name",value:"ruleName",align:"left",sortable:!1},{text:"Created At",value:"createdAt",align:"left",sortable:!1},{text:"",value:"action",align:"left",sortable:!1}],rules:[],errors:[],dialogMode:1,isMobile:!1}},mounted:function(){this.getRuleList()},methods:{save:function(){var e=this;e.checkForm()&&(1===e.dialogMode?a["a"].post("/rule",e.rule).then(function(t){e.$toast.success({title:"Success",message:"Success in add rule"}),e.dialog=!1,e.rule={},e.getRuleList()}):2===e.dialogMode&&a["a"].put("/rule/".concat(e.rule._id),e.rule).then(function(t){e.$toast.success({title:"Success",message:"Success in edit rule"}),e.dialog=!1,e.rule={},e.getRuleList}))},checkForm:function(){return!!this.rule.name||(this.errors=[],this.rule.name||this.errors.push("Rule name required"),!1)},getRuleList:function(){var e=this;a["a"].get("/rule").then(function(t){console.log(t),e.rules=t.data})},editRule:function(e){this.dialogMode=2,this.rule=e,this.dialog=!0},deleteRule:function(e){var t=this;confirm("Are you sure delete this rule?")&&a["a"].delete("/rule/".concat(e)).then(function(e){t.$toast.success({title:"Success",message:"Success in delete rule"}),t.getRuleList()})},onResize:function(){this.isMobile=window.innerWidth<769}}},o=r,n=(l("97b1"),l("2877")),c=Object(n["a"])(o,i,s,!1,null,"e5d90c2e",null);c.options.__file="Rule.vue";t["default"]=c.exports},"97b1":function(e,t,l){"use strict";var i=l("6282"),s=l.n(i);s.a}}]);
//# sourceMappingURL=chunk-cec7.e4e8eec8.js.map