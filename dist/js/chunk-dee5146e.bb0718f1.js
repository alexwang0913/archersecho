(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dee5146e"],{"1f8b":function(t,e,a){t.exports=a.p+"img/login.f7ff04a7.png"},5326:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"h-screen flex w-full bg-img vs-con-loading__container",attrs:{id:"div-loading"}},[r("div",{staticClass:"vx-col sm:w-1/2 md:w-1/2 lg:w-3/4 xl:w-3/5 mx-auto self-center"},[r("vx-card",[r("div",{staticClass:"full-page-bg-color",attrs:{slot:"no-body"},slot:"no-body"},[r("div",{staticClass:"vx-row"},[r("div",{staticClass:"vx-col hidden sm:hidden md:hidden lg:block lg:w-1/2 mx-auto self-center"},[r("img",{staticClass:"mx-auto",attrs:{src:a("1f8b"),alt:"login"}})]),r("div",{staticClass:"vx-col sm:w-full md:w-full lg:w-1/2 mx-auto self-center bg-white"},[r("div",{staticClass:"p-8"},[r("div",{staticClass:"vx-card__title mb-8"},[r("h4",{staticClass:"mb-4"},[t._v("Login")]),r("p",[t._v("Welcome back, please login to your account.")])]),r("vs-input",{staticClass:"w-full mb-6 no-icon-border",attrs:{icon:"icon icon-user","icon-pack":"feather","label-placeholder":"Username",danger:t.validate.username,"danger-text":"Username required"},model:{value:t.user.userId,callback:function(e){t.$set(t.user,"userId",e)},expression:"user.userId"}}),r("vs-input",{staticClass:"w-full mb-4 no-icon-border",attrs:{type:"password",icon:"icon icon-lock","icon-pack":"feather","label-placeholder":"Password",danger:t.validate.password,"danger-text":"Password required."},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),r("div",{staticClass:"flex flex-wrap justify-between my-5"},[r("vs-checkbox",{staticClass:"mb-3",model:{value:t.checkBox1,callback:function(e){t.checkBox1=e},expression:"checkBox1"}},[t._v("Remember Me")]),r("router-link",{attrs:{to:"/pages/forgot-password"}},[t._v("Forgot Password?")])],1),t.loginFail?r("div",[1===t.failType?r("vs-alert",{staticClass:"mb-6",attrs:{color:"danger",title:"Danger",active:"true"}},[t._v("\n                  Username or password is incorrect.\n                  "),r("br"),t._v("\n                  "+t._s(t.remainCount)+" times remaing\n                ")]):t._e(),2===t.failType?r("vs-alert",{staticClass:"mb-6",attrs:{color:"danger",title:"Danger",active:"true"}},[t._v("\n                  You failed 3 times.\n                  "),r("br"),t._v("You can try again after 15mins.\n                ")]):t._e(),3===t.failType?r("vs-alert",{staticClass:"mb-6",attrs:{color:"danger",title:"Danger",active:"true"}},[t._v("This user is not activated.")]):t._e()],1):t._e(),r("vs-button",{attrs:{type:"border",to:"/register"}},[t._v("Register")]),r("vs-button",{staticClass:"float-right",on:{click:t.onClickLogin}},[t._v("Login")]),r("vs-divider",{staticClass:"my-8",attrs:{position:"center"}}),r("div",{staticClass:"social-login mb-4 flex flex-wrap justify-between"},[r("span",[t._v("Or Login With")]),r("div",{staticClass:"social-login-buttons flex"},[r("vs-button",{staticClass:"px-8",attrs:{color:"success"},on:{click:t.getGoogleAuth}},[r("font-awesome-icon",{attrs:{icon:["fab","google"]}})],1)],1)])],1)])])])])],1)])},n=[],s=(a("7f7f"),a("96cf"),a("3b8d")),i=a("b6df"),o=a("bc3a"),c=a.n(o),u=a("ed08"),l={data:function(){return{value1:"",value2:"",checkBox1:!1,user:{},validate:{},loginFail:!1,failType:0,remainCount:0}},methods:{getGoogleAuth:function(){c.a.get("http://localhost:3000/api/auth/google/login").then(function(t){console.log("__response"),console.log(t),console.log(t.data),window.open(t.data)}).catch(function(t){console.log("__error"),console.log(t)})},onClickLogin:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.validateForm()){t.next=2;break}return t.abrupt("return");case 2:return this.$vs.loading({container:"#div-loading",scale:.6}),t.prev=3,t.next=6,i["a"].login(this.user);case 6:e=t.sent,a=e.status,r=e.data,n=e.attemptCount,console.log(a),console.log(r),this.$vs.loading.close("#div-loading > .con-vs-loading"),301===a?(this.loginFail=!0,this.remainCount=3-n,this.failType=1):300===a?(this.loginFail=!0,this.failType=2):200===a&&(r.isActive?(Object(u["c"])("user",{name:r.name,userId:r.userId,profileUrl:r.profileUrl,id:r._id}),this.$store.commit("auth/SET_AUTH_STATE",!0),this.$router.push({name:"home"})):(this.loginFail=!0,this.failType=3)),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](3),this.$vs.notify({color:"danger",title:"Failed",text:t.t0.stack});case 19:case"end":return t.stop()}},t,this,[[3,16]])}));function e(){return t.apply(this,arguments)}return e}(),validateForm:function(){return this.validate={},this.user.userId&&""!==this.user.userId?!(!this.user.password||""===this.user.password)||(this.validate.password=!0,!1):(this.validate.username=!0,!1)}}},d=l,p=a("2877"),g=Object(p["a"])(d,r,n,!1,null,null,null);e["default"]=g.exports},b6df:function(t,e,a){"use strict";a("96cf");var r=a("3b8d"),n=a("b39f"),s=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"POST",url:"/api/auth/login",data:e});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"POST",url:"/api/auth/signup",data:e});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"POST",url:"/api/auth/tmpLogin",data:e});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"GET",url:"/api/auth/loginAttemptInfo"});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"GET",url:"/api/auth/paneltyRemainTime"});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"GET",url:"/api/auth/tempLoginOut"});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();e["a"]={login:s,signUp:i,tmpLogin:o,getAttemptInfo:c,getPaneltyRemainTime:u,tempLoginOut:l}}}]);
//# sourceMappingURL=chunk-dee5146e.bb0718f1.js.map