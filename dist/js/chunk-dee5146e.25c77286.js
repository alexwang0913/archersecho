(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dee5146e"],{"1f8b":function(t,e,r){t.exports=r.p+"img/login.f7ff04a7.png"},5326:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"h-screen flex w-full bg-img"},[a("div",{staticClass:"vx-col sm:w-1/2 md:w-1/2 lg:w-3/4 xl:w-3/5 mx-auto self-center"},[a("vx-card",[a("div",{staticClass:"full-page-bg-color",attrs:{slot:"no-body"},slot:"no-body"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col hidden sm:hidden md:hidden lg:block lg:w-1/2 mx-auto self-center"},[a("img",{staticClass:"mx-auto",attrs:{src:r("1f8b"),alt:"login"}})]),a("div",{staticClass:"vx-col sm:w-full md:w-full lg:w-1/2 mx-auto self-center bg-white"},[a("div",{staticClass:"p-8"},[a("div",{staticClass:"vx-card__title mb-8"},[a("h4",{staticClass:"mb-4"},[t._v("Login")]),a("p",[t._v("Welcome back, please login to your account.")])]),a("vs-input",{staticClass:"w-full mb-6 no-icon-border",attrs:{icon:"icon icon-user","icon-pack":"feather","label-placeholder":"Username",danger:t.validate.username,"danger-text":"Username required"},model:{value:t.user.userId,callback:function(e){t.$set(t.user,"userId",e)},expression:"user.userId"}}),a("vs-input",{staticClass:"w-full mb-4 no-icon-border",attrs:{type:"password",icon:"icon icon-lock","icon-pack":"feather","label-placeholder":"Password",danger:t.validate.password,"danger-text":"Password required."},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),a("div",{staticClass:"flex flex-wrap justify-between my-5"},[a("vs-checkbox",{staticClass:"mb-3",model:{value:t.checkBox1,callback:function(e){t.checkBox1=e},expression:"checkBox1"}},[t._v("Remember Me")]),a("router-link",{attrs:{to:"/pages/forgot-password"}},[t._v("Forgot Password?")])],1),t.loginFail?a("div",[1===t.failType?a("vs-alert",{staticClass:"mb-6",attrs:{color:"danger",title:"Danger",active:"true"}},[t._v("\n                  Username or password is incorrect.\n                  "),a("br"),t._v("\n                  "+t._s(t.remainCount)+" times remaing\n                ")]):t._e(),2===t.failType?a("vs-alert",{staticClass:"mb-6",attrs:{color:"danger",title:"Danger",active:"true"}},[t._v("\n                  You failed 3 times.\n                  "),a("br"),t._v("You can try again after 15mins.\n                ")]):t._e(),3===t.failType?a("vs-alert",{staticClass:"mb-6",attrs:{color:"danger",title:"Danger",active:"true"}},[t._v("This user is not activated.")]):t._e()],1):t._e(),a("vs-button",{attrs:{type:"border",to:"/register"}},[t._v("Register")]),a("vs-button",{staticClass:"float-right",on:{click:t.onClickLogin}},[t._v("Login")]),a("vs-divider",{staticClass:"my-8",attrs:{position:"center"}}),a("div",{staticClass:"social-login mb-4 flex flex-wrap justify-between"},[a("span",[t._v("Or Login With")]),a("div",{staticClass:"social-login-buttons flex"},[a("vs-button",{staticClass:"px-8",attrs:{color:"success"},on:{click:t.getGoogleAuth}},[a("font-awesome-icon",{attrs:{icon:["fab","google"]}})],1)],1)])],1)])])])])],1)])},n=[],s=(r("7f7f"),r("96cf"),r("3b8d")),i=r("b6df"),o=r("bc3a"),c=r.n(o),u=r("ed08"),l={data:function(){return{value1:"",value2:"",checkBox1:!1,user:{},validate:{},loginFail:!1,failType:0,remainCount:0}},methods:{getGoogleAuth:function(){c.a.get("http://localhost:3000/api/auth/google/login").then(function(t){console.log("__response"),console.log(t),console.log(t.data),window.open(t.data)}).catch(function(t){console.log("__error"),console.log(t)})},onClickLogin:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,r,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.validateForm()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,i["a"].login(this.user);case 5:e=t.sent,r=e.status,a=e.data,n=e.attemptCount,301===r?(this.loginFail=!0,this.remainCount=3-n,this.failType=1):300===r?(this.loginFail=!0,this.failType=2):200===r&&(a.isActive?(this.$router.push({name:"home"}),Object(u["c"])("user",{name:a.name,userId:a.userId,profileUrl:a.profileUrl,id:a._id}),this.$store.commit("auth/SET_AUTH_STATE",!0)):(this.loginFail=!0,this.failType=3)),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),this.$vs.notify({color:"danger",title:"Failed",text:t.t0.stack});case 15:case"end":return t.stop()}},t,this,[[2,12]])}));function e(){return t.apply(this,arguments)}return e}(),validateForm:function(){return this.validate={},this.user.userId&&""!==this.user.userId?!(!this.user.password||""===this.user.password)||(this.validate.password=!0,!1):(this.validate.username=!0,!1)}}},d=l,p=r("2877"),f=Object(p["a"])(d,a,n,!1,null,null,null);e["default"]=f.exports},b6df:function(t,e,r){"use strict";r("96cf");var a=r("3b8d"),n=r("b39f"),s=function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"POST",url:"/api/auth/login",data:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"POST",url:"/api/auth/signup",data:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"POST",url:"/api/auth/tmpLogin",data:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"GET",url:"/api/auth/loginAttemptInfo"});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"GET",url:"/api/auth/paneltyRemainTime"});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"GET",url:"/api/auth/tempLoginOut"});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();e["a"]={login:s,signUp:i,tmpLogin:o,getAttemptInfo:c,getPaneltyRemainTime:u,tempLoginOut:l}}}]);
//# sourceMappingURL=chunk-dee5146e.25c77286.js.map